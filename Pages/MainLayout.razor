@inherits LayoutComponentBase
@code {
    private readonly Game state = new();

    public void SetDimensions(BCR.Bounds bounds)
    {
        state.Width = bounds.Width;
        state.Height = bounds.Height;
    }

    private void UpdateState(TimeSpan elapsed)
    {
        state.Tick(elapsed);
    }
}

<ResponsivePanes>
    <MainContent>
        <BCR OnBounds="SetDimensions">
            <PaneBoundary RecoverOnNavigate>
                <RAF OnFrame="UpdateState">
                    <CascadingValue Value="state">
                        @Body
                    </CascadingValue>
                </RAF>
            </PaneBoundary>
        </BCR>
    </MainContent>

    <FirstPane>
        <PaneBoundary>
            <p>sidebar/header</p>
        </PaneBoundary>
    </FirstPane>

    <SecondPane>
        <PaneBoundary>
            <p>sidebar/footer</p>
        </PaneBoundary>
    </SecondPane>
</ResponsivePanes>
